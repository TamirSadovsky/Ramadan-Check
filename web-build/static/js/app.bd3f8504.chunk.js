(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{347:function(e,t,n){var r=n(672),a=n(673);"string"===typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var l={insert:"head",singleton:!1};r(a,l);e.exports=a.locals||{}},538:function(e,t,n){e.exports=n.p+"static/media/ramadan-logo.40814d09.png"},642:function(e,t,n){e.exports=n(714)},669:function(e,t,n){e.exports=n.p+"static/media/cancun-logo.25727804.jpeg"},670:function(e,t,n){e.exports=n.p+"static/media/eiv-ntes-logo.8512504e.jpeg"},673:function(e,t,n){(t=n(674)(!1)).push([e.i,"#overlay {\r\n    background: #ffffff;\r\n    color: #666666;\r\n    position: fixed;\r\n    height: 100%;\r\n    width: 100%;\r\n    z-index: 5000;\r\n    top: 0;\r\n    left: 0;\r\n    float: left;\r\n    transition: opacity 0.5s;\r\n    opacity: .80;\r\n    justify-content: center;\r\n    flex-direction: column-reverse\r\n}\r\n\r\n.spinner {\r\n    margin: 0 auto;\r\n    height: 64px;\r\n    width: 64px;\r\n    animation: rotate 0.8s infinite linear;\r\n    border: 5px solid firebrick;\r\n    border-right-color: transparent;\r\n    border-radius: 50%;\r\n}\r\n\r\n.loaderWrapper{\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-content: center;\r\n    flex-direction: column;\r\n}\r\n\r\n.videoCamera {\r\n    width: 100%;\r\n    height: 40%;\r\n}\r\n.viewport {\r\n    position: relative;\r\n}\r\n.drawingBuffer{\r\n    display: none;\r\n}\r\n\r\n  @keyframes rotate {\r\n      0% {\r\n          transform: rotate(0deg);\r\n      }\r\n      100% {\r\n          transform: rotate(360deg);\r\n      }\r\n  }",""]),e.exports=t},705:function(e,t,n){var r={"./af":364,"./af.js":364,"./ar":365,"./ar-dz":366,"./ar-dz.js":366,"./ar-kw":367,"./ar-kw.js":367,"./ar-ly":368,"./ar-ly.js":368,"./ar-ma":369,"./ar-ma.js":369,"./ar-sa":370,"./ar-sa.js":370,"./ar-tn":371,"./ar-tn.js":371,"./ar.js":365,"./az":372,"./az.js":372,"./be":373,"./be.js":373,"./bg":374,"./bg.js":374,"./bm":375,"./bm.js":375,"./bn":376,"./bn-bd":377,"./bn-bd.js":377,"./bn.js":376,"./bo":378,"./bo.js":378,"./br":379,"./br.js":379,"./bs":380,"./bs.js":380,"./ca":381,"./ca.js":381,"./cs":382,"./cs.js":382,"./cv":383,"./cv.js":383,"./cy":384,"./cy.js":384,"./da":385,"./da.js":385,"./de":386,"./de-at":387,"./de-at.js":387,"./de-ch":388,"./de-ch.js":388,"./de.js":386,"./dv":389,"./dv.js":389,"./el":390,"./el.js":390,"./en-au":391,"./en-au.js":391,"./en-ca":392,"./en-ca.js":392,"./en-gb":393,"./en-gb.js":393,"./en-ie":394,"./en-ie.js":394,"./en-il":395,"./en-il.js":395,"./en-in":396,"./en-in.js":396,"./en-nz":397,"./en-nz.js":397,"./en-sg":398,"./en-sg.js":398,"./eo":399,"./eo.js":399,"./es":400,"./es-do":401,"./es-do.js":401,"./es-mx":402,"./es-mx.js":402,"./es-us":403,"./es-us.js":403,"./es.js":400,"./et":404,"./et.js":404,"./eu":405,"./eu.js":405,"./fa":406,"./fa.js":406,"./fi":407,"./fi.js":407,"./fil":408,"./fil.js":408,"./fo":409,"./fo.js":409,"./fr":410,"./fr-ca":411,"./fr-ca.js":411,"./fr-ch":412,"./fr-ch.js":412,"./fr.js":410,"./fy":413,"./fy.js":413,"./ga":414,"./ga.js":414,"./gd":415,"./gd.js":415,"./gl":416,"./gl.js":416,"./gom-deva":417,"./gom-deva.js":417,"./gom-latn":418,"./gom-latn.js":418,"./gu":419,"./gu.js":419,"./he":420,"./he.js":420,"./hi":421,"./hi.js":421,"./hr":422,"./hr.js":422,"./hu":423,"./hu.js":423,"./hy-am":424,"./hy-am.js":424,"./id":425,"./id.js":425,"./is":426,"./is.js":426,"./it":427,"./it-ch":428,"./it-ch.js":428,"./it.js":427,"./ja":429,"./ja.js":429,"./jv":430,"./jv.js":430,"./ka":431,"./ka.js":431,"./kk":432,"./kk.js":432,"./km":433,"./km.js":433,"./kn":434,"./kn.js":434,"./ko":435,"./ko.js":435,"./ku":436,"./ku.js":436,"./ky":437,"./ky.js":437,"./lb":438,"./lb.js":438,"./lo":439,"./lo.js":439,"./lt":440,"./lt.js":440,"./lv":441,"./lv.js":441,"./me":442,"./me.js":442,"./mi":443,"./mi.js":443,"./mk":444,"./mk.js":444,"./ml":445,"./ml.js":445,"./mn":446,"./mn.js":446,"./mr":447,"./mr.js":447,"./ms":448,"./ms-my":449,"./ms-my.js":449,"./ms.js":448,"./mt":450,"./mt.js":450,"./my":451,"./my.js":451,"./nb":452,"./nb.js":452,"./ne":453,"./ne.js":453,"./nl":454,"./nl-be":455,"./nl-be.js":455,"./nl.js":454,"./nn":456,"./nn.js":456,"./oc-lnc":457,"./oc-lnc.js":457,"./pa-in":458,"./pa-in.js":458,"./pl":459,"./pl.js":459,"./pt":460,"./pt-br":461,"./pt-br.js":461,"./pt.js":460,"./ro":462,"./ro.js":462,"./ru":463,"./ru.js":463,"./sd":464,"./sd.js":464,"./se":465,"./se.js":465,"./si":466,"./si.js":466,"./sk":467,"./sk.js":467,"./sl":468,"./sl.js":468,"./sq":469,"./sq.js":469,"./sr":470,"./sr-cyrl":471,"./sr-cyrl.js":471,"./sr.js":470,"./ss":472,"./ss.js":472,"./sv":473,"./sv.js":473,"./sw":474,"./sw.js":474,"./ta":475,"./ta.js":475,"./te":476,"./te.js":476,"./tet":477,"./tet.js":477,"./tg":478,"./tg.js":478,"./th":479,"./th.js":479,"./tk":480,"./tk.js":480,"./tl-ph":481,"./tl-ph.js":481,"./tlh":482,"./tlh.js":482,"./tr":483,"./tr.js":483,"./tzl":484,"./tzl.js":484,"./tzm":485,"./tzm-latn":486,"./tzm-latn.js":486,"./tzm.js":485,"./ug-cn":487,"./ug-cn.js":487,"./uk":488,"./uk.js":488,"./ur":489,"./ur.js":489,"./uz":490,"./uz-latn":491,"./uz-latn.js":491,"./uz.js":490,"./vi":492,"./vi.js":492,"./x-pseudo":493,"./x-pseudo.js":493,"./yo":494,"./yo.js":494,"./zh-cn":495,"./zh-cn.js":495,"./zh-hk":496,"./zh-hk.js":496,"./zh-mo":497,"./zh-mo.js":497,"./zh-tw":498,"./zh-tw.js":498};function a(e){var t=l(e);return n(t)}function l(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=l,e.exports=a,a.id=705},714:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(39),i=n.n(l),s=n(11),o=n.n(s),c=n(849),u=n(853),d=n(852),j=n(847),f=n(850),h=n(851),b=n(202),m=n(9),p=n(1);function x(e){var t=e.show,n=e.rows;return t?Object(p.jsx)(m.default,{style:{writingDirection:"rtl",height:"50vh"},children:Object(p.jsx)(j.default,{component:b.default,children:Object(p.jsxs)(c.default,{stickyHeader:!0,size:"small","aria-label":"a dense table",style:{width:"100%",overflowX:"scroll",marginLeft:"auto",marginRight:"auto"},children:[Object(p.jsx)(f.default,{children:Object(p.jsxs)(h.default,{children:[Object(p.jsx)(d.default,{align:"right",children:"\u05e9\u05dd \u05d4\u05de\u05d5\u05e6\u05e8"}),Object(p.jsx)(d.default,{align:"right",children:"\u05e1\u05d5\u05d2 \u05d4\u05d1\u05e9\u05e8"}),Object(p.jsx)(d.default,{align:"right",children:"\u05de\u05e1\u05e4\u05e8 \u05de\u05d0\u05e8\u05d6"}),Object(p.jsx)(d.default,{align:"right",children:"\u05de\u05e9\u05e7\u05dc"}),Object(p.jsx)(d.default,{align:"right",children:"\u05d1\u05e8 \u05e7\u05d5\u05d3"})]})}),Object(p.jsx)(u.default,{children:n.map((function(e){return Object(p.jsxs)(h.default,{align:"right",sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(p.jsx)(d.default,{component:"th",scope:"row",align:"right",children:e.name}),Object(p.jsx)(d.default,{align:"right",children:e.meatType}),Object(p.jsx)(d.default,{align:"right",children:e.boxId}),Object(p.jsx)(d.default,{align:"right",children:e.weight}),Object(p.jsx)(d.default,{align:"right",children:e.barCode})]},e.barCode)}))})]})})}):null}var O=n(83),g=n(209),v=n.n(g),y=n(854);function w(e){var t=e.show,n=e.content,r=e.title,a=e.buttonText,l=void 0===a?"\u05e9\u05d2\u05d9\u05d0\u05d4":a,i=e.toggleShowModal,s=e.buttonFunction,o=void 0===s?function(){}:s,c=O.default.get("window").height;return t?Object(p.jsxs)(v.a,{appElement:document.getElementById("root"),isOpen:t,style:{content:{writingDirection:"rtl",height:.6*c,textAlign:"center",zIndex:"500"}},children:[Object(p.jsx)("h2",{children:r}),Object(p.jsx)("div",{style:{height:"60%"},children:n}),Object(p.jsx)(y.default,{variant:"contained",id:"searchOrderBtn",color:"primary",style:{margin:"0 auto",width:"100%",bottom:"0"},onClick:function(){i(!1),o()},children:l})]}):null}n(669),n(670);var S=n(538),k=n.n(S);function D(e){var t=e.parentWidth,n=(O.default.get("window").height,k.a);return Object(p.jsx)("div",{style:{textAlign:"center"},children:Object(p.jsx)("img",{style:{maxWidth:isNaN(t)?"65%":.7*t},src:n})})}var C=n(591);n(347);function I(e){var t=e.showLoader;return Object(p.jsx)("div",{id:"overlay",style:{display:t?"flex":"none"},children:Object(p.jsx)("div",{className:"loaderWrapper",children:Object(p.jsx)(C.ThreeDots,{height:"100",width:"100",radius:"9",color:"#4fa94d",ariaLabel:"three-dots-loading",visible:!0})})})}var P=n(198),B=n.n(P),T=function(e){var t=e.onDetect;Object(r.useEffect)((function(){return B.a.init({inputStream:{type:"LiveStream"},locator:{halfSample:!0,patchSize:"medium",debug:{showCanvas:!1,showPatches:!1,showFoundPatches:!1,showSkeleton:!1,showLabels:!1,showPatchLabels:!1,showRemainingPatchLabels:!1,boxFromPatches:{showTransformed:!0,showTransformedBox:!0,showBB:!0}}},numOfWorkers:4,decoder:{readers:["code_128_reader"]},locate:!0},(function(e){if(e)return console.log(e);console.log("Initialization finished. Ready to start"),B.a.start()})),B.a.onDetected(n),function(){B.a.offDetected(n)}}),[]);var n=function(e){t(e),B.a.stop()};return Object(p.jsx)("div",{id:"interactive",className:"viewport",children:Object(p.jsx)("video",{className:"videoCamera",autoPlay:!0,preload:"auto",src:"",muted:!0,playsInline:!0})})},L=n(56),E=n.n(L),R=n(15),z=n.n(R),N=n(868),W=n(860),A=n(869),q=n(867);function F(e){var t=e.setShowCurr,n=e.setShowButtons;return Object(p.jsx)(y.default,{color:"primary",variant:"contained",id:"backToNavBtn",style:{marginTop:"25px",marginBottom:"25px",width:"25%"},onClick:function(){t(!1),n(!0)},children:" \u05d7\u05d6\u05d5\u05e8"})}var M=n(607),X=n(116),V=n(879),U=n(43),H=n(59),_=n.n(H),K=n(19),G=n(870),Y=n(859),J=n(78),Q=n(865),$=n(889),Z=n(598),ee=n(858),te=null;switch(window.location.hostname){case"localhost":default:te="http://localhost:3000"}var ne=te;function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=n(94);function ie(e){var t=e.items,n=e.units,a=e.kusers,l=e.user,i=e.customer,s=e.index,c=e.handleRemove,u=e.updateItemInList,d=e.itemProperties,j=e.setShowOverlayLoader,f=Object(r.useState)(!1),h=o()(f,2),b=h[0],x=h[1],O=Object(r.useState)(null),g=o()(O,2),v=g[0],w=g[1],S=Object(r.useState)(null),k=o()(S,2),D=k[0],C=k[1],I=Object(r.useState)(null),P=o()(I,2),B=P[0],T=P[1],L=Object(r.useState)(null),E=o()(L,2),R=E[0],F=E[1],X=Object(r.useState)(null),V=o()(X,2),U=V[0],H=V[1],_=Object(r.useState)(null),G=o()(_,2),te=G[0],re=G[1],ie=Object(r.useState)(null),se=o()(ie,2),oe=se[0],ce=se[1],ue=Object(r.useState)(""),de=o()(ue,2),je=de[0],fe=de[1],he=Object(r.useState)(""),be=o()(he,2),me=be[0],pe=be[1],xe=Object(r.useState)(!1),Oe=o()(xe,2),ge=Oe[0],ve=Oe[1];Object(r.useEffect)((function(){var e={item:v||(null==d?void 0:d.item),basePrice:(null==D?void 0:D.length)>=0?D:null==d?void 0:d.basePrice,quantity:(null==R?void 0:R.length)>=0?R:null==d?void 0:d.quantity,unit:U||(null==d?void 0:d.unit),kuser:l.needKuser?te||(null==d?void 0:d.kuser):l.localDef,comment:(null==oe?void 0:oe.length)>=0?oe:null==d?void 0:d.comment,dbBasePrice:B,valid:null==d?void 0:d.valid,priceInRange:ye()};u(e,s)}),[v,D,R,te,U,oe,B]),Object(r.useEffect)((function(){if(i&&(v||null!=d&&d.item))try{j(!0),function(){var e,t;z.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,z.a.awrap(le.get(ne+"/getPrice",{params:{customerId:i.key,itemId:null!=v&&v.partId?null==v?void 0:v.partId:null==d?void 0:d.item.partId},timeout:5e3}));case 2:return e=n.sent,n.next=5,z.a.awrap(e.data.value);case 5:t=n.sent,T(t),C(null==t?void 0:t.toString());case 8:case"end":return n.stop()}}),null,null,null,Promise)}()}catch(e){console.log("Error: ",e)}finally{j(!1)}}),[v]);var ye=function(){var e=D>=0?D:null==d?void 0:d.basePrice;return e<=B*(.01*l.maxAllow+1)&&e>=B*(1-.01*l.minAllow)},we=function(){return(null==d?void 0:d.item)&&d.basePrice>0&&d.quantity>0&&(null==d?void 0:d.unit)&&(!(null!=l&&l.needKuser)||(null==d?void 0:d.kuser))};return Object(p.jsxs)(m.default,{style:{overflowX:"hidden",display:"flex",flexDirection:"row"},children:[Object(p.jsxs)(m.default,{style:{overflowX:"hidden",display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[Object(p.jsxs)(m.default,{style:{border:"1px solid grey",borderRadius:"5px",width:"75%"},onClick:function(){x(!0)},children:[Object(p.jsx)(K.default,{children:null!=d&&d.item?d.item.partDes:"\u05d9\u05e9 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05e4\u05e8\u05d9\u05d8"}),Object(p.jsx)(K.default,{children:" \u05db\u05de\u05d5\u05ea: "+(null!=d&&d.quantity?null==d?void 0:d.quantity:"")+"      \u05de\u05d7\u05d9\u05e8 \u05db\u05d5\u05dc\u05dc: "+(null!=d&&d.quantity&&null!=d&&d.basePrice?(null==d?void 0:d.quantity)*(null==d?void 0:d.basePrice):"")})]}),Object(p.jsxs)(Z.default,{onClick:function(){c(s)},children:[Object(p.jsx)(ee.default,{}),Object(p.jsx)(K.default,{children:" \u05d4\u05e1\u05e8"})]})]}),Object(p.jsxs)(Y.default,{open:b,onClose:function(){return x(!1)},style:{overflowX:"hidden"},children:[Object(p.jsxs)(m.default,{style:{flexDirection:"row",justifyContent:"space-around",alignItems:"center"},children:[Object(p.jsx)(K.default,{style:{fontSize:16,fontWeight:"bold"},children:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05e4\u05e8\u05d9\u05d8 \u05dc\u05d4\u05d6\u05de\u05e0\u05d4"}),Object(p.jsx)(m.default,{style:{width:75,height:75,borderRadius:8,marginHorizontal:16,marginTop:8},children:(null==v?void 0:v.base64Img)&&Object(p.jsx)(J.default,{source:{uri:v.base64Img},style:{width:75,height:75,borderRadius:8,borderWidth:2,borderColor:"black"}})})]}),Object(p.jsxs)(W.default,{children:[Object(p.jsx)($.default,{options:null==t?void 0:t.map((function(e){return e.partDes})),renderInput:function(e){return Object(p.jsx)(Q.default,ae(ae({},e),{},{label:"\u05d1\u05d7\u05e8/\u05d9 \u05de\u05d5\u05e6\u05e8"}))},value:null!=d&&d.item?d.item.partDes:null,onChange:function(e,n){return function(e){var n=t.filter((function(t){return t.partDes===e}))[0];w(n)}(n)},style:{direction:"rtl"}}),Object(p.jsxs)(m.default,{style:{overflowX:"hidden",display:"flex",alignItems:"center",width:"100%"},children:[Object(p.jsx)(Q.default,{variant:"outlined",margin:"dense",id:"basePrice",label:"\u05de\u05d7\u05d9\u05e8 \u05d1\u05e1\u05d9\u05e1",name:"basePrice",autoComplete:"base_price",style:{margin:"10px"},value:null!=d&&d.basePrice?null==d?void 0:d.basePrice:D||"",onChange:function(e){C(e.target.value)}}),Object(p.jsx)(K.default,{children:ye()?"":"*\u05de\u05d7\u05d9\u05e8 \u05d4\u05d1\u05e1\u05d9\u05e1 \u05d4\u05d5\u05d0: "+B+", \u05d4\u05de\u05d7\u05d9\u05e8 \u05e9\u05d4\u05d5\u05d6\u05df \u05dc\u05d0 \u05d1\u05d8\u05d5\u05d5\u05d7 \u05d4\u05d0\u05e4\u05e9\u05e8\u05d9, \u05d1\u05e1\u05d9\u05d5\u05dd  \u05d4\u05d4\u05d6\u05de\u05e0\u05d4 \u05ea\u05e9\u05dc\u05d7 \u05d5\u05ea\u05d7\u05db\u05d4 \u05dc\u05d0\u05d9\u05e9\u05d5\u05e8 \u05de\u05e0\u05d4\u05dc."}),Object(p.jsx)($.default,{options:null==n?void 0:n.map((function(e){return e.unitDes})),renderInput:function(e){return Object(p.jsx)(Q.default,ae(ae({},e),{},{label:"\u05d1\u05d7\u05e8/\u05d9 \u05d9\u05d7\u05d9\u05d3\u05d5\u05ea"}))},value:null!=d&&d.unit?d.unit.unitDes:null,onChange:function(e,t){return H(null==n?void 0:n.filter((function(e){return e.unitDes===t}))[0])},style:{width:"75%",margin:"0px 10px 10x 10px"}}),Object(p.jsx)(Q.default,{variant:"outlined",margin:"dense",id:"quantity",label:"\u05db\u05de\u05d5\u05ea",name:"quantity",autoComplete:"quantity",style:{margin:"10px"},value:null!=d&&d.quantity?null==d?void 0:d.quantity:"",onChange:function(e){F(e.target.value)}}),(null==l?void 0:l.needKuser)&&Object(p.jsx)($.default,{options:null==a?void 0:a.map((function(e){return e.des})),renderInput:function(e){return Object(p.jsx)(Q.default,ae(ae({},e),{},{label:"\u05d1\u05d7\u05e8/\u05d9 \u05db\u05e9\u05e8\u05d5\u05ea"}))},value:null!=d&&d.kuser?d.kuser.des:null,onChange:function(e,t){return re(null==a?void 0:a.filter((function(e){return e.des===t}))[0])},style:{width:"75%",margin:"10px"}}),Object(p.jsxs)(M.default,{variant:"h6",style:{margin:"20px"},children:["\u05de\u05d7\u05d9\u05e8 \u05db\u05d5\u05dc\u05dc:"," ",d.quantity&&d.basePrice&&d.quantity*d.basePrice]}),Object(p.jsx)(Q.default,{label:"\u05d4\u05e2\u05e8\u05d4...",multiline:!0,maxRows:4,variant:"outlined",margin:"dense",style:{margin:"10px"},value:d.comment,onChange:function(e){ce(e.target.value)}})]})]}),Object(p.jsxs)(q.default,{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[Object(p.jsx)(y.default,{variant:"outlined",onClick:function(){var e={item:ae({},d.item),basePrice:d.basePrice,quantity:d.quantity,unit:ae({},d.unit),kuser:ae({},d.kuser),comment:d.comment,priceInRange:ye(),dbBasePrice:d.dbBasePrice,valid:we()};u(e,s),x(!1)},children:"\u05e1\u05d2\u05d5\u05e8"}),Object(p.jsx)(y.default,{variant:"contained",color:"primary",onClick:function(){if(we()){var e={item:ae({},d.item),basePrice:d.basePrice,quantity:d.quantity,unit:ae({},d.unit),kuser:ae({},d.kuser),comment:d.comment,priceInRange:ye(),dbBasePrice:d.dbBasePrice,valid:!0};u(e,s),x(!1)}else fe("\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d9\u05dd"),pe(" \u05db\u05d3\u05d9 \u05dc\u05d4\u05d5\u05e1\u05d9\u05e3 \u05e4\u05e8\u05d9\u05d8 \u05dc\u05d4\u05d6\u05de\u05e0\u05d4, \u05d9\u05e9 \u05dc\u05d5\u05d5\u05d3\u05d0 \u05db\u05d9 \u05e0\u05d1\u05d7\u05e8 \u05de\u05d5\u05e6\u05e8 \u05db\u05e8\u05d0\u05d5\u05d9 \u05d5\u05e9\u05d0\u05e8 \u05d4\u05e4\u05e8\u05de\u05d8\u05e8\u05d9\u05dd \u05d4\u05e0\u05d3\u05e8\u05e9\u05d9\u05dd \u05ea\u05e7\u05d9\u05e0\u05d9\u05dd."),ve(!0)},children:"\u05e9\u05de\u05d5\u05e8"})]})]}),Object(p.jsxs)(Y.default,{open:ge,onClose:function(){return ve(!1)},children:[Object(p.jsx)(N.default,{children:je}),Object(p.jsx)(W.default,{children:Object(p.jsx)(A.default,{children:me})}),Object(p.jsx)(q.default,{children:Object(p.jsx)(y.default,{variant:"contained",color:"primary",onClick:function(){ve(!1)},children:"\u05e1\u05d2\u05d5\u05e8"})})]})]})}var se=n(871);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){var t=e.items,n=e.customerLastOrders,a=e.customer,l=e.units,i=e.kusers,s=e.user,c=e.isValidOrder,u=e.setShowOverlayLoader,d=Object(r.useState)(!1),j=o()(d,2),f=(j[0],j[1],Object(r.useState)("")),h=o()(f,2),b=h[0],x=h[1],O=Object(r.useState)(""),g=o()(O,2),v=g[0],w=g[1],S=Object(r.useState)(!1),k=o()(S,2),D=k[0],C=k[1],I=Object(r.useState)([]),P=o()(I,2),B=P[0],T=P[1],L=Object(r.useState)(!1),R=o()(L,2),z=R[0],F=R[1];Object(r.useEffect)((function(){a&&F(!0),T([])}),[a]);var X=function(e){T((function(t){var n=_()(t);return n.splice(e,1),n}))},V=function(e,t){T((function(n){return n.map((function(n,r){return t===r?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e):n}))}))},U=B.map((function(e,n){return Object(p.jsx)(ie,{index:n,items:t,units:l,user:s,kusers:i,customer:a,style:{marginTop:"5px"},handleRemove:X,itemProperties:e,updateItemInList:V,setShowOverlayLoader:u},n)}));Object(r.useEffect)((function(){c(B)}),[B]);var H=null==n?void 0:n.map((function(e){var t,n,r,a,l,i=null==(t=e.Date)||null==(n=t.toString())||null==(r=n.slice(0,10))||null==(a=r.split("-"))||null==(l=a.reverse())?void 0:l.join("/"),s=e.lines.length;return Object(p.jsxs)(m.default,{style:{overflowX:"hidden",border:"1px solid grey",borderRadius:"10px",width:"75%",marginBottom:"5px"},onClick:function(){return function(e){var t=e.lines.map((function(e){return{item:{partId:e.PartID,partDes:e.GenerlDes},basePrice:e.BasePrice,quantity:e.Qunt,unit:{unitId:e.Units,unitDes:e.UnitsDes},kuser:{id:e.kuserID,des:e.KuserDes},comment:e.Comment,valid:!0,dbBasePrice:e.BasePrice}}));T(t),F(!1)}(e)},children:[Object(p.jsx)(K.default,{children:" \u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05d6\u05de\u05e0\u05d4: "+i+". "}),Object(p.jsx)(K.default,{children:" \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd: "+s+"."})]},e.CustOrderID)}));return Object(p.jsxs)(G.default,{maxWidth:"xs",style:{overflowX:"hidden",height:"50%"},children:[Object(p.jsx)(M.default,{variant:"h6",children:"\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd:"}),U,Object(p.jsxs)(Z.default,{onClick:function(){a?0===B.length||B[B.length-1].valid?T((function(e){return[].concat(_()(e),[{comment:""}])})):(x("\u05e9\u05d2\u05d9\u05d0\u05d4"),w("\u05d9\u05e9 \u05dc\u05e1\u05d9\u05d9\u05dd \u05dc\u05e2\u05e8\u05d5\u05da \u05d0\u05ea \u05d4\u05e4\u05e8\u05d9\u05d8 \u05d4\u05d0\u05d7\u05e8\u05d5\u05df \u05db\u05e8\u05d0\u05d5\u05d9 \u05d5\u05dc\u05e9\u05de\u05d5\u05e8"),C(!0)):(x("\u05e9\u05d2\u05d9\u05d0\u05d4"),w("\u05d9\u05e9 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05dc\u05e7\u05d5\u05d7 \u05dc\u05e4\u05e0\u05d9 \u05d4\u05d5\u05e1\u05e4\u05ea \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd"),C(!0))},children:[Object(p.jsx)(se.default,{}),Object(p.jsx)(K.default,{children:" \u05d4\u05d5\u05e1\u05e3 \u05de\u05d5\u05e6\u05e8 \u05e0\u05d5\u05e1\u05e3"})]}),Object(p.jsxs)(Y.default,{open:D,onClose:function(){return C(!1)},children:[Object(p.jsx)(N.default,{children:b}),Object(p.jsx)(W.default,{children:Object(p.jsx)(A.default,{children:v})}),Object(p.jsx)(q.default,{children:Object(p.jsx)(y.default,{variant:"contained",color:"primary",onClick:function(){C(!1)},children:"\u05e1\u05d2\u05d5\u05e8"})})]}),Object(p.jsxs)(Y.default,{open:z,onClose:function(){return F(!1)},children:[Object(p.jsxs)(N.default,{children:["\u05d9\u05e6\u05d9\u05e8\u05ea \u05d4\u05d6\u05de\u05e0\u05d4 \u05d7\u05d3\u05e9\u05d4 \u05de\u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05e7\u05d5\u05d3\u05de\u05d5\u05ea \u05e9\u05dc ",null==a?void 0:a.value]}),Object(p.jsx)(W.default,{children:Object(p.jsx)(m.default,{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},children:null!=H&&H.length?H:Object(p.jsx)(K.default,{children:"*\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05d4\u05d6\u05de\u05e0\u05d5\u05ea."})})}),Object(p.jsx)(q.default,{children:Object(p.jsx)(y.default,{variant:"contained",color:"primary",onClick:function(){F(!1)},children:"\u05d3\u05dc\u05d2/\u05d9"})})]})]})}var ue=n(887),de=n(563),je=n(873),fe=n(22);n(872);fe.default.create({root:{borderWidth:1,borderRadius:4,color:"#ccccc6",padding:8},inputsContainer:{flexDirection:"row",justifyContent:"space-between"},input:{width:"45%",margin:8}});function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pe=n(94);function xe(e){var t=e.showNewOrder,n=e.setShowNewOrder,a=e.setShowButtons,l=e.user,i=e.setShowOverlayLoader,s=Object(r.useState)(null),c=o()(s,2),u=c[0],d=c[1],j=Object(r.useState)(null),f=o()(j,2),h=f[0],b=f[1],x=Object(r.useState)(null),O=o()(x,2),g=O[0],v=O[1],w=Object(r.useState)(null),S=o()(w,2),k=S[0],D=S[1],C=Object(r.useState)(new Date),I=o()(C,2),P=I[0],B=I[1],T=Object(r.useState)(null),L=o()(T,2),R=L[0],H=L[1],_=Object(r.useState)(null),K=o()(_,2),G=K[0],J=K[1],Q=Object(r.useState)(null),$=o()(Q,2),Z=$[0],ee=$[1],te=Object(r.useState)(!1),re=o()(te,2),ae=re[0],le=re[1],ie=Object(r.useState)(!1),se=o()(ie,2),oe=se[0],fe=se[1],me=Object(r.useState)(""),xe=o()(me,2),Oe=xe[0],ge=xe[1],ve=Object(r.useState)(""),ye=o()(ve,2),we=ye[0],Se=ye[1],ke=Object(r.useState)(!1),De=o()(ke,2),Ce=De[0],Ie=De[1],Pe=Object(r.useState)(null),Be=o()(Pe,2),Te=Be[0],Le=Be[1],Ee=Object(r.useState)(!1),Re=o()(Ee,2),ze=Re[0],Ne=Re[1];Object(r.useEffect)((function(){if(t&&h)try{i(!0),function(){var e,t;z.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,z.a.awrap(pe.get(ne+"/getOrdersByCustomer",{params:{customerID:h.key},timeout:5e3}));case 2:return e=n.sent,n.next=5,z.a.awrap(e.data);case 5:t=n.sent,D(t);case 7:case"end":return n.stop()}}),null,null,null,Promise)}()}catch(e){console.log("Error fetching last orders of customer: ",e)}finally{i(!1)}else if(t)try{i(!0),function(){var e,t,n,r,a,i,s,o,c,u,j,f;z.a.async((function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,z.a.awrap(pe.get(ne+"/getCustomers",{params:{userId:l.userId},timeout:5e3}));case 2:return e=h.sent,h.next=5,z.a.awrap(e.data);case 5:return t=h.sent,n=t.map((function(e){return{key:""+e.CustomerID,value:e.Name,address:e.Address,city:e.City,zipCode:e.ZipCode}})),d(n),h.next=10,z.a.awrap(pe.get(ne+"/getItems"));case 10:return r=h.sent,h.next=13,z.a.awrap(r.data);case 13:return a=h.sent,i=a.map((function(e){return{partId:""+e.PartID,partDes:e.PartDes,base64Img:e.SigBase64}})),H(i),h.next=18,z.a.awrap(pe.get(ne+"/getUnits"));case 18:return s=h.sent,h.next=21,z.a.awrap(s.data);case 21:if(o=h.sent,c=o.map((function(e){return{unitId:e.UnitsID,unitDes:e.UnitsDes}})),J(c),null==l||!l.needKuser){h.next=33;break}return h.next=27,z.a.awrap(pe.get(ne+"/getKusers"));case 27:return u=h.sent,h.next=30,z.a.awrap(u.data);case 30:j=h.sent,f=j.map((function(e){return{id:e.ID,des:e.Des,kuserType:e.KuserType}})),ee(f);case 33:case"end":return h.stop()}}),null,null,null,Promise)}()}catch(e){console.log("Error fetching customers:",e)}finally{i(!1)}}),[t,h]),Object(r.useEffect)((function(){Le(null)}),[h]);return Object(p.jsx)(U.default,{vertical:!0,style:{backgroundColor:"#fff",minHeight:"100%"},children:Object(p.jsxs)(m.default,{component:"main",maxWidth:"xs",style:{overflowX:"hidden",height:"100%"},children:[Object(p.jsx)(M.default,{component:"h1",variant:"h5",style:{marginBottom:"20px"},children:"\u05d9\u05e6\u05d9\u05e8\u05ea \u05d4\u05d6\u05de\u05e0\u05d4"}),Object(p.jsx)(X.SelectList,{setSelected:function(e){v(e)},onSelect:function(){g&&u&&b(u.filter((function(e){return e.value===g}))[0])},save:"value",data:u,placeholder:"\u05d1\u05d7\u05e8/\u05d9 \u05dc\u05e7\u05d5\u05d7",searchPlaceholder:"\u05d7\u05d9\u05e4\u05d5\u05e9"},ze),Object(p.jsx)(m.default,{style:{marginTop:"20px"},children:Object(p.jsx)(de.LocalizationProvider,{dateAdapter:je.default,children:Object(p.jsx)(ue.MobileDatePicker,{label:"\u05d1\u05d7\u05e8/\u05d9 \u05de\u05d5\u05e2\u05d3 \u05d4\u05e1\u05e4\u05e7\u05d4",inputFormat:"DD/MM/YYYY",value:P,minDate:P,onChange:function(e){B(e._d)},closeOnSelect:!0,renderInput:function(e){return Object(p.jsx)(V.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}})})}),Object(p.jsx)(m.default,{style:{borderBottomColor:"black",borderBottomWidth:1,marginLeft:5,marginRight:5,marginTop:"20px",marginBottom:"20px"}}),Object(p.jsx)(ce,{items:R,setItems:H,customer:h,units:G,kusers:Z,user:l,isValidOrder:function(e){if(l&&h&&(null==e?void 0:e.length)>0&&function(e){for(var t,n=be(e);!(t=n()).done;){if(!t.value.valid)return!1}return!0}(e)){Le(e),le(!0);for(var t,n=!1,r=be(e);!(t=r()).done;){var a=t.value;if(a.basePrice>a.dbBasePrice*(.01*l.maxAllow+1)||a.basePrice<a.dbBasePrice*(1-.01*l.minAllow)){fe(!0),n=!0;break}}n||fe(!1)}else le(!1)},customerLastOrders:k,setShowOverlayLoader:i}),Object(p.jsxs)(m.default,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(p.jsx)(y.default,{variant:"contained",color:"primary",onClick:function(){ae?function(){var e,t,n,r,a,s;return z.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:for(o.prev=0,i(!0),e={customerId:h.key,customerName:h.value,address:h.address,city:h.city,zipCode:h.zipCode,transDate:P,userId:l.userId,username:l.username,lines:[]},t=be(Te);!(n=t()).done;)r=n.value,e.lines.push({partId:r.item.partId,generalDes:r.item.partDes,qunt:r.quantity,units:r.unit.unitId,kuserId:l.needKuser?l.kuser.id:l.localDef.DefKuserID,kuserDes:l.needKuser?l.kuser.des:l.localDef.DefKuserDes,comment:r.comment,basePrice:oe?r.dbBasePrice:r.basePrice,totalPrice:r.basePrice*r.quantity,unitsDes:r.unit.unitDes,basePriceRequest:r.basePrice});return a=oe?"insertPendingOrder":"insertOrder",console.log(a),o.next=8,z.a.awrap(pe.post(ne+"/"+a,e));case 8:return s=o.sent,o.t0=console,o.next=12,z.a.awrap(s.data);case 12:return o.t1=o.sent,o.t0.log.call(o.t0,"insertStatus",o.t1),o.next=16,z.a.awrap(s.data);case 16:return o.abrupt("return",o.sent);case 19:return o.prev=19,o.t2=o.catch(0),console.log("Error sending order to DataBase: ",o.t2),o.abrupt("return",!1);case 23:return o.prev=23,i(!1),o.finish(23);case 26:case"end":return o.stop()}}),null,null,[[0,19,23,26]],Promise)}()?(ge("\u05d4\u05d6\u05de\u05e0\u05d4 \u05e0\u05e9\u05dc\u05d7\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),Se(oe?"\u05e9\u05d9\u05de\u05d5 \u05dc\u05d1, \u05d1\u05d4\u05d6\u05de\u05e0\u05d4 \u05d6\u05d5 \u05e7\u05d9\u05d9\u05dd \u05dc\u05e4\u05d7\u05d5\u05ea \u05e4\u05e8\u05d9\u05d8 \u05d0\u05d7\u05d3 \u05e2\u05dd \u05de\u05d7\u05d9\u05e8 \u05d1\u05e1\u05d9\u05e1 \u05de\u05e2\u05d1\u05e8 \u05dc\u05d8\u05d5\u05d5\u05d7 \u05d4\u05d0\u05e4\u05e9\u05e8\u05d9. \u05d4\u05d6\u05de\u05e0\u05d4 \u05d6\u05d5 \u05ea\u05d5\u05e2\u05d1\u05e8 \u05dc\u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05d4\u05de\u05de\u05ea\u05d9\u05e0\u05d5\u05ea \u05dc\u05d0\u05d9\u05e9\u05d5\u05e8.":"\u05d4\u05d4\u05d6\u05de\u05e0\u05d4 \u05ea\u05e7\u05d9\u05e0\u05d4 \u05d5\u05e0\u05e7\u05dc\u05d8\u05d4 \u05d1\u05de\u05e2\u05e8\u05db\u05ea."),Ie(!0),Ne((function(e){return!e})),b(null)):(ge("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05dc\u05d9\u05d7\u05ea \u05d4\u05d6\u05de\u05e0\u05d4"),Se("\u05d4\u05d4\u05d6\u05de\u05e0\u05d4 \u05dc\u05d0 \u05e0\u05e7\u05dc\u05d8\u05d4, \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d5 \u05e9\u05e0\u05d9\u05ea, \u05d1\u05de\u05d9\u05d3\u05ea \u05d4\u05e6\u05d5\u05e8\u05da \u05e6\u05e8\u05d5 \u05e7\u05e9\u05e8 \u05e2\u05dd \u05de\u05e0\u05d4\u05dc."),Ie(!0)):(ge("\u05d4\u05d6\u05de\u05e0\u05d4 \u05dc\u05d0 \u05ea\u05e7\u05d9\u05e0\u05d4! \u05d5\u05d5\u05d3\u05d0\u05d5 \u05db\u05d9:"),Se("\u05e0\u05d1\u05d7\u05e8 \u05dc\u05e7\u05d5\u05d7, \u05d9\u05e9 \u05dc\u05e4\u05d7\u05d5\u05ea \u05e4\u05e8\u05d9\u05d8 \u05d0\u05d7\u05d3, \u05d0\u05d9\u05df \u05e4\u05e8\u05d9\u05d8\u05d9\u05dd \u05e2\u05dd \u05de\u05d9\u05d3\u05e2 \u05d7\u05e1\u05e8."),Ie(!0))},style:{width:"75%"},children:"\u05e9\u05dc\u05d7 \u05d4\u05d6\u05de\u05e0\u05d4"}),Object(p.jsx)(F,{setShowCurr:n,setShowButtons:a})]}),Object(p.jsxs)(Y.default,{open:Ce,onClose:function(){return Ie(!1)},children:[Object(p.jsx)(N.default,{children:Oe}),Object(p.jsx)(W.default,{children:Object(p.jsx)(A.default,{children:we})}),Object(p.jsx)(q.default,{children:Object(p.jsx)(y.default,{variant:"contained",color:"primary",onClick:function(){Ie(!1)},children:"\u05e1\u05d2\u05d5\u05e8"})})]})]})})}function Oe(e){var t=e.header,n=e.list;return Object(p.jsxs)(m.default,{style:{width:"75%"},children:[Object(p.jsx)(M.default,{variant:"h6",style:{marginBottom:"10px",marginTop:"10px",textAlign:"center",textDecorationLine:"underline"},children:t}),Object(p.jsx)(m.default,{style:{borderTop:"1px dotted",borderBottom:"1px dotted",paddingBottom:"5px",paddingTop:"5px"},children:Object(p.jsx)(U.default,{contentContainerStyle:ge.listScrollView,showsVerticalScrollIndicator:!1,children:null!=n&&n.length?n:Object(p.jsx)(K.default,{children:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5..."})})})]})}var ge=fe.default.create({listScrollView:{maxHeight:"10rem",display:"flex",alignItems:"center"}}),ve=n(94);function ye(e){var t=e.setShowPendingOrders,n=e.setShowButtons,a=e.showPendingOrders,l=e.user,i=e.setShowOverlayLoader,s=Object(r.useState)(null),c=o()(s,2),u=c[0],d=c[1],j=Object(r.useState)(null),f=o()(j,2),h=f[0],b=f[1],x=Object(r.useState)(null),O=o()(x,2),g=O[0],v=O[1],y=Object(r.useState)(null),w=o()(y,2),S=w[0],k=w[1];Object(r.useEffect)((function(){a&&function(){var e,t;z.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,i(!0),n.next=4,z.a.awrap(ve.get(ne+"/getPendingOrdersByUser",{params:{userID:null==l?void 0:l.userId},timeout:5e3}));case 4:return e=n.sent,n.next=7,z.a.awrap(e.data);case 7:t=n.sent,v(null==t?void 0:t.filter((function(e){return 0===e.Status}))),d(null==t?void 0:t.filter((function(e){return 1===e.Status}))),b(null==t?void 0:t.filter((function(e){return 2===e.Status}))),k(null==t?void 0:t.filter((function(e){return 3===e.Status}))),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.log("Error fetching pending orders: ",n.t0);case 17:return n.prev=17,i(!1),n.finish(17);case 20:case"end":return n.stop()}}),null,null,[[0,14,17,20]],Promise)}()}),[a]);var D=null==u?void 0:u.map((function(e){var t,n,r,a,l,i;return Object(p.jsxs)(m.default,{style:we.order,children:[Object(p.jsx)(K.default,{children:" \u05de\u05e1' \u05d4\u05d6\u05de\u05e0\u05d4: "+(null==e?void 0:e.CustOrderID)+"."}),Object(p.jsx)(K.default,{children:" \u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05d6\u05de\u05e0\u05d4: "+(null==(t=e.Date)||null==(n=t.Date)||null==(r=n.toString())||null==(a=r.slice(0,10))||null==(l=a.split("-"))||null==(i=l.reverse())?void 0:i.join("/"))+". "}),Object(p.jsx)(K.default,{children:" \u05dc\u05e7\u05d5\u05d7: "+e.CustomerName+"."})]},e.CustOrderID)})),C=null==h?void 0:h.map((function(e){var t,n,r,a,l,i;return Object(p.jsxs)(m.default,{style:we.order,children:[Object(p.jsx)(K.default,{children:" \u05de\u05e1' \u05d4\u05d6\u05de\u05e0\u05d4: "+(null==e?void 0:e.CustOrderID)+"."}),Object(p.jsx)(K.default,{children:" \u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05d6\u05de\u05e0\u05d4: "+(null==(t=e.Date)||null==(n=t.Date)||null==(r=n.toString())||null==(a=r.slice(0,10))||null==(l=a.split("-"))||null==(i=l.reverse())?void 0:i.join("/"))+". "}),Object(p.jsx)(K.default,{children:" \u05dc\u05e7\u05d5\u05d7: "+e.CustomerName+"."})]},e.CustOrderID)})),I=null==g?void 0:g.map((function(e){var t,n,r,a,l;return Object(p.jsxs)(m.default,{style:we.order,children:[Object(p.jsx)(K.default,{children:" \u05de\u05e1' \u05d4\u05d6\u05de\u05e0\u05d4: "+(null==e?void 0:e.CustOrderID)+"."}),Object(p.jsx)(K.default,{children:" \u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05d6\u05de\u05e0\u05d4: "+(null==e||null==(t=e.Date)||null==(n=t.toString())||null==(r=n.slice(0,10))||null==(a=r.split("-"))||null==(l=a.reverse())?void 0:l.join("/"))+". "}),Object(p.jsx)(K.default,{children:" \u05dc\u05e7\u05d5\u05d7: "+e.CustomerName+"."})]},e.CustOrderID)})),P=null==S?void 0:S.map((function(e){var t,n,r,a,l,i;return Object(p.jsxs)(m.default,{style:we.order,children:[Object(p.jsx)(K.default,{children:" \u05de\u05e1' \u05d4\u05d6\u05de\u05e0\u05d4: "+(null==e?void 0:e.CustOrderID)+"."}),Object(p.jsx)(K.default,{children:" \u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05d6\u05de\u05e0\u05d4: "+(null==(t=e.Date)||null==(n=t.Date)||null==(r=n.toString())||null==(a=r.slice(0,10))||null==(l=a.split("-"))||null==(i=l.reverse())?void 0:i.join("/"))+". "}),Object(p.jsx)(K.default,{children:" \u05dc\u05e7\u05d5\u05d7: "+e.CustomerName+"."})]},e.CustOrderID)}));return Object(p.jsx)(U.default,{vertical:!0,style:{backgroundColor:"#fff",minHeight:"100%"},children:Object(p.jsxs)(m.default,{component:"main",maxWidth:"xs",style:{overflowX:"hidden",height:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(p.jsx)(M.default,{component:"h1",variant:"h5",style:{marginBottom:"20px"},children:"\u05e1\u05d8\u05d8\u05d5\u05e1 \u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05de\u05de\u05ea\u05d9\u05e0\u05d5\u05ea:"}),Object(p.jsx)(M.default,{variant:"h6",style:{marginBottom:"10px",fontSize:"1rem"},children:"*\u05de\u05e6\u05d9\u05d2 \u05de\u05d9\u05d3\u05e2 \u05de\u05d9\u05d5\u05de\u05d9\u05d9\u05dd \u05d0\u05d7\u05e8\u05d5\u05e0\u05d9\u05dd."}),Object(p.jsx)(Oe,{header:"\u05de\u05de\u05ea\u05d9\u05df \u05dc\u05d0\u05d9\u05e9\u05d5\u05e8:",list:I}),Object(p.jsx)(Oe,{header:"\u05de\u05d0\u05d5\u05e9\u05e8:",list:D}),Object(p.jsx)(Oe,{header:"\u05d0\u05d5\u05e9\u05e8 \u05d7\u05dc\u05e7\u05d9\u05ea:",list:C}),Object(p.jsx)(Oe,{header:"\u05e0\u05d3\u05d7\u05d4:",list:P}),Object(p.jsx)(F,{setShowCurr:t,setShowButtons:n})]})})}var we=fe.default.create({order:{overflowX:"hidden",border:"1px solid grey",borderRadius:"10px",width:"90%",marginBottom:"5px"}}),Se=n(882),ke=n(881),De=n(94),Ce=n.n(De),Ie=Object(ke.default)((function(e){return{paper:{writingDirection:"rtl",display:"flex",flexDirection:"column",alignItems:"center"},avatar:{paddingBottom:e.spacing(0)},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Pe(e){var t=e.view,n=e.setView,a=(e.setOrderPageFun,e.setShowNavFun),l=e.Modal,i=e.setShowOverlayLoader,s=e.setUser,c=Ie(),u=Object(r.useState)({}),d=o()(u,2),j=d[0],f=d[1],h=Object(r.useState)(!1),b=o()(h,2),x=b[0],g=b[1],v=Object(r.useRef)(""),w=Object(r.useRef)(""),S=O.default.get("window").height,k=Object(r.useRef)(null),C=Object(r.useState)(0),I=o()(C,2),P=I[0],B=I[1];return Object(r.useLayoutEffect)((function(){B(k.current.offsetWidth)}),[]),t?Object(p.jsx)(m.default,{style:{writingDirection:"rtl",flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center",borderRadius:"5px",BorderColor:"black",width:"80%",maxHeight:.6*S,boxShadow:"rgba(100, 100, 111, 0.4) 0px 7px 29px 0px"},children:Object(p.jsxs)(G.default,{component:"main",maxWidth:"xs",children:[Object(p.jsx)(Se.default,{}),Object(p.jsx)(l,{show:x,content:j.content,title:j.title,buttonText:"\u05d0\u05d9\u05e9\u05d5\u05e8",toggleShowModal:g,speacilFunction:j.speacilFunction}),Object(p.jsxs)("div",{ref:k,className:c.paper,children:[Object(p.jsx)("div",{className:c.avatar,children:Object(p.jsx)(D,{parentWidth:P})}),Object(p.jsx)(M.default,{component:"h1",variant:"h5",children:"\u05d4\u05ea\u05d7\u05d1\u05e8"}),Object(p.jsxs)("form",{className:c.form,noValidate:!0,children:[Object(p.jsx)(Q.default,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"user_name",label:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9",name:"uset_name",autoComplete:"user_name",autoFocus:!0,inputRef:v}),Object(p.jsx)(Q.default,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"\u05e1\u05d9\u05e1\u05de\u05d0",type:"password",id:"password",autoComplete:"current-password",inputRef:w}),Object(p.jsx)(y.default,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit,onClick:function(e){e.preventDefault(),i(!0),function(e,t){var r,l;z.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return r={WorkerName:e,PassWord:t,timeout:5e3},o.prev=1,o.next=4,z.a.awrap(Ce.a.post(ne+"/Login",r));case 4:if("not found"==(l=o.sent).data){o.next=16;break}if(!l.data){o.next=12;break}return n(!1),i(!1),a(!0),s(l.data),o.abrupt("return");case 12:f({title:"\u05e9\u05d2\u05d9\u05d0\u05d4",content:"\u05e4\u05e8\u05d8\u05d9 \u05d4\u05de\u05e9\u05ea\u05de\u05e9 \u05e9\u05d2\u05d5\u05d9\u05d9\u05dd."}),g(!0),o.next=18;break;case 16:f({title:"\u05e9\u05d2\u05d9\u05d0\u05d4",content:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0 \u05de\u05e9\u05ea\u05de\u05e9"}),g(!0);case 18:i(!1),o.next=27;break;case 21:o.prev=21,o.t0=o.catch(1),i(!1),f({title:"\u05e9\u05d2\u05d9\u05d0\u05d4",content:"\u05d1\u05e2\u05d9\u05d4 \u05e2\u05dd \u05de\u05e9\u05d9\u05db\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9 \u05d4\u05dc\u05e7\u05d5\u05d7, \u05d0\u05e0\u05d0 \u05e4\u05e0\u05d4 \u05dc\u05de\u05e0\u05d4\u05dc \u05d4\u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d4"}),g(!0),console.log(o.t0);case 27:case"end":return o.stop()}}),null,null,[[1,21]],Promise)}(v.current.value,w.current.value)},children:"\u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea"})]})]})]})}):null}var Be=n(883),Te=n(221),Le=n(187);function Ee(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Re(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ze=n(94),Ne=Object(ke.default)((function(e){return{paper:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(0)},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function We(e){var t=e.showOrderPage,n=e.setshowOrderPage,l=e.Table,i=e.Modal,s=e.setShowOverlayLoader,c=e.setShowButtons,u=Ne(),d=Object(r.useState)(!1),j=o()(d,2),f=j[0],h=j[1],b=Object(r.useState)(null),m=o()(b,2),x=m[0],O=m[1],g=Object(r.useState)(null),w=o()(g,2),S=w[0],k=w[1],D=Object(r.useState)(!1),C=o()(D,2),I=C[0],P=(C[1],Object(r.useState)(!0)),B=o()(P,2),L=B[0],E=B[1],R=Object(r.useState)({}),N=o()(R,2),W=N[0],A=N[1],q=Object(r.useState)(!1),X=o()(q,2),V=X[0],H=X[1],_=Object(r.useState)(!1),K=o()(_,2),Y=K[0],J=K[1],$=Object(r.useState)(!1),Z=o()($,2),ee=Z[0],te=Z[1],re=Object(r.useState)(null),ae=o()(re,2),le=ae[0],ie=ae[1],se=Object(r.useState)(!1),oe=o()(se,2),ce=oe[0],ue=oe[1],de=Object(r.useRef)(null),je=a.a.useState("Not Found"),fe=o()(je,2),he=(fe[0],fe[1],function(){k(null),E(null),s(!1),h(!1),O(null)});return t?Object(p.jsx)(U.default,{vertical:!0,style:{backgroundColor:"#fff",Height:"100%"},children:Object(p.jsxs)(G.default,{component:"main",maxWidth:"xs",style:{overflowX:"hidden",height:"100"},children:[Object(p.jsx)(i,{show:ee,color:"primary",content:W.content,title:W.title,buttonText:"\u05d0\u05d9\u05e9\u05d5\u05e8",toggleShowModal:te,speacilFunction:W.speacilFunction}),Object(p.jsx)(Se.default,{}),Object(p.jsxs)("div",{className:u.paper,children:[Object(p.jsx)(M.default,{component:"h1",variant:"h5",children:"\u05ea\u05e2\u05d5\u05d3\u05ea \u05de\u05e9\u05dc\u05d5\u05d7"}),Object(p.jsxs)(Be.default,{sx:{display:"flex",flexDirection:"row",alignContent:"space-between"},children:[Object(p.jsx)(Q.default,{id:"orderId",label:"\u05de\u05e1 \u05ea\u05e2\u05d5\u05d3\u05ea \u05de\u05e9\u05dc\u05d5\u05d7",variant:"outlined",inputRef:de}),Object(p.jsx)(y.default,{variant:"outlined",style:{right:"2px"},color:"primary",onClick:function(){he(),ie(de.current.value),function(e){var t,n,r,a,l,i,o,c,u,d;z.a.async((function(j){for(;;)switch(j.prev=j.next){case 0:return t=[],j.prev=1,s(!0),j.next=5,z.a.awrap(ze.get(ne+"/getOrderDetails",{params:{orderId:e},timeout:5e3}));case 5:return l=j.sent,j.next=8,z.a.awrap(l);case 8:for(null!=(i=j.sent)&&null!=(n=i.data)&&n.comments&&(null==i||null==(r=i.data)||null==(a=r.comments)?void 0:a.length)>0&&(A({title:"\u05d4\u05d5\u05e8\u05d0\u05d5\u05ea \u05de\u05d9\u05d5\u05d7\u05d3\u05ea \u05dc\u05d4\u05d5\u05e8\u05d3\u05ea \u05e1\u05d7\u05d5\u05e8\u05d4:",content:null==i||null==(o=i.data)?void 0:o.comments}),te(!0)),c=Ee(i.data.recordset);!(u=c()).done;)d=u.value,t.push({name:d.HashDes,meatType:d.GenerlDes,boxId:d.BoxNum,weight:d.Wight.toFixed(3),barCode:d.BarCode});if(!(t.length<=0)){j.next=16;break}return A({title:"\u05e9\u05d2\u05d9\u05d0\u05d4",content:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05d4\u05d6\u05de\u05e0\u05d5\u05ea"}),te(!0),he(),j.abrupt("return");case 16:t.isSinged=i.data.signatureObject.isSinged,E(t),t.length>0&&k(i.data.recordset[0].CustomerName),console.log("resolvedData.data.signatureObject ",i.data.signatureObject),O(i.data.signatureObject),i.data.signatureObject.isSinged&&(A({title:"\u05e9\u05d9\u05de\u05d5 \u05dc\u05d1!",content:"\u05d4\u05d4\u05d6\u05de\u05e0\u05d4 \u05db\u05d1\u05e8 \u05d7\u05ea\u05d5\u05de\u05d4, \u05e0\u05d9\u05ea\u05df \u05dc\u05e8\u05d0\u05d5\u05ea \u05d0\u05ea \u05e4\u05e8\u05d8\u05d9 \u05d4\u05d4\u05d6\u05de\u05e0\u05d4 \u05d0\u05da \u05dc\u05d0 \u05e0\u05d9\u05ea\u05df \u05dc\u05d7\u05ea\u05d5\u05dd \u05e9\u05d5\u05d1."}),te(!0)),s(!1),h(!0),console.log("Leangth: ",i.data.recordset.length),j.next=33;break;case 27:j.prev=27,j.t0=j.catch(1),A({title:"\u05e9\u05d2\u05d9\u05d0\u05d4",content:"\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05de\u05e9\u05d9\u05db\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9 \u05d4\u05d4\u05d6\u05de\u05e0\u05d4, \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d5 \u05e9\u05d5\u05d1 \u05de\u05d0\u05d5\u05d7\u05e8 \u05d9\u05d5\u05ea\u05e8"}),te(!0),s(!1),console.log("Error occured while getting order data: ",j.t0);case 33:case"end":return j.stop()}}),null,null,[[1,27]],Promise)}(de.current.value)},children:Object(p.jsx)(Te.FontAwesomeIcon,{icon:Le.faMagnifyingGlass})}),Object(p.jsx)(y.default,{variant:"outlined",style:{right:"5px"},color:"primary",onClick:function(){ue(!0)},children:Object(p.jsx)(Te.FontAwesomeIcon,{icon:Le.faBarcode})})]}),ce&&Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(Be.default,{sx:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"10px"},children:[Object(p.jsx)(T,{style:{marginTop:"5px"},onDetect:function(e){console.log(e.codeResult.code),de.current.focus(),de.current.value=e.codeResult.code,ue(!1)}}),Object(p.jsx)(y.default,{variant:"outlined",style:{right:"5px"},color:"primary",onClick:function(){ue(!1)},children:"\u05e1\u05d2\u05d5\u05e8"})]})}),Object(p.jsx)(p.Fragment,{children:f&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Be.default,{sx:{display:"flex",flexDirection:"row",marginBottom:"10px",marginTop:"10px",maxWidth:"100%"},children:Object(p.jsx)(Q.default,{disabled:!0,style:{textAlign:"right"},id:"outlined-disabled",variant:"outlined",label:"\u05dc\u05e7\u05d5\u05d7",defaultValue:S})}),Object(p.jsxs)(Be.default,{sx:{display:"flex",flexDirection:"column",marginTop:"10px",overflowX:"scroll",maxWidth:"100%"},children:[Object(p.jsx)(y.default,{color:"primary",variant:"contained",onClick:function(){J(!0),H(!0)},children:"\u05d4\u05e6\u05d2 \u05ea\u05e2\u05d5\u05d3\u05ea \u05de\u05e9\u05dc\u05d5\u05d7"}),Object(p.jsxs)(v.a,{appElement:document.getElementById("root"),isOpen:Y,style:{content:{inset:"0"}},children:[Object(p.jsx)(l,{rows:L,show:!I}),Object(p.jsx)("br",{}),Object(p.jsx)(y.default,{color:"primary",variant:"contained",id:"searchOrderBtn",style:{margin:"0 auto",width:"100%"},onClick:function(){J(!1)},children:"\u05e1\u05d2\u05d5\u05e8 \u05d7\u05dc\u05d5\u05df"})]}),Object(p.jsx)(Xe,{show:!I,orderViewd:V,orderId:le,setShowModal:te,setModalContent:A,resetData:he,isSinged:L?L.isSinged:null,signatureObject:x})]})]})}),Object(p.jsx)(F,{setShowCurr:n,setShowButtons:c})]})]})}):null}var Ae=n(580),qe=n.n(Ae),Fe=n(729),Me=Object(ke.default)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},sigContainer:{width:"80%",height:"80%",margin:"0 auto",backgroundColor:"#fff"},sigPad:{width:"100%",height:"200px",border:"black 1px solid"}}}));function Xe(e){var t=e.show,n=e.orderViewd,a=e.orderId,l=e.setModalContent,i=e.setShowModal,s=e.resetData,o=void 0===s?function(){}:s,c=e.isSinged,u=e.signatureObject,d=void 0===u?{isSinged:!1,comment:null,signatureBASE64:null}:u,j=Object(r.useRef)(null),f=Me(),h={};console.log("signatureObject ",d);return t?Object(p.jsxs)(G.default,{component:"main",maxWidth:"xs",style:{overflowX:"hidden",borderBlockColor:"black"},children:[Object(p.jsx)(Se.default,{}),console.log(d),Object(p.jsxs)(Be.default,{sx:{display:"flex",flexDirection:"column",alignContent:"space-between"},children:[Object(p.jsx)(Fe.default,{"aria-label":"\u05d4\u05e2\u05e8\u05d5\u05ea \u05e0\u05d5\u05e1\u05e4\u05d5\u05ea",placeholder:"\u05d4\u05e2\u05e8\u05d5\u05ea \u05dc\u05de\u05e9\u05dc\u05d5\u05d7",style:{width:"100%",minHeight:"10%",marginTop:"20px",direction:"rtl"},id:"comment_area",ref:j,defaultValue:d.comment?d.comment:null,disabled:!!d.isSinged}),Object(p.jsx)("div",{style:{textAlign:"center",fontWeight:"300",marginTop:"20px"},children:"\u05d7\u05ea\u05d5\u05dd \u05db\u05d0\u05df"}),d.signatureBASE64?Object(p.jsx)("img",{src:d.signatureBASE64}):Object(p.jsx)(qe.a,{canvasProps:{className:f.sigPad},ref:function(e){h=e}}),Object(p.jsx)(y.default,{fullWidth:!0,variant:"contained",color:"primary",style:{marginTop:"10px",marginBottom:"10px"},onClick:function(){!function(e,t){var r;z.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(console.log("sigRef ",e),console.log("orderViewd ",n),!e.isEmpty()){s.next=6;break}return l({title:"\u05e9\u05d2\u05d9\u05d0\u05d4",content:"\u05e0\u05d0 \u05dc\u05d7\u05ea\u05d5\u05dd \u05dc\u05e4\u05e0\u05d9 \u05d4\u05e9\u05dc\u05d9\u05d7\u05d4"}),i(!0),s.abrupt("return");case 6:if(n){s.next=12;break}return l({title:"\u05e9\u05d2\u05d9\u05d0\u05d4",content:"\u05d9\u05e9 \u05dc\u05d4\u05ea\u05d1\u05d5\u05e0\u05df \u05d1\u05ea\u05d9\u05d0\u05d5\u05e8 \u05d4\u05d4\u05d6\u05de\u05e0\u05d4 \u05dc\u05e4\u05e0\u05d9 \u05d4\u05d7\u05ea\u05d9\u05de\u05d4"}),i(!0),s.abrupt("return");case 12:return r={orderId:a,Sig:e.toDataURL("image/png"),comment:t.current.value},console.log("orderId:",a),s.prev=14,s.next=17,z.a.awrap(Ce.a.post(ne+"/signedOrder",r));case 17:s.sent,l({title:"\u05d4\u05e4\u05e8\u05d8\u05d9\u05dd \u05e0\u05e9\u05dc\u05d7\u05d5",content:"\u05d4\u05e4\u05e8\u05d8\u05d9\u05dd \u05e0\u05e9\u05dc\u05d7\u05d5 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4!",speacilFunction:o}),o(),i(!0),s.next=28;break;case 23:s.prev=23,s.t0=s.catch(14),l({title:"\u05e9\u05d2\u05d9\u05d0\u05d4",content:"\u05e7\u05d9\u05d9\u05de\u05ea \u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05dc\u05d9\u05d7\u05ea \u05d4\u05e0\u05ea\u05d5\u05e0\u05d9\u05dd, \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d5 \u05e9\u05e0\u05d9\u05ea."}),i(!0),console.log("Error trying to sent sig info, ",s.t0);case 28:case"end":return s.stop()}}),null,null,[[14,23]],Promise)}(h,j)},disabled:c,children:"\u05e9\u05dc\u05d7"})]})]}):null}var Ve=n(94),Ue=Object(ke.default)((function(e){return{paper:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",height:"100%"},avatar:{margin:e.spacing(0)}}}));function He(e){var t=e.setShowOverlayLoader,n=e.user,a=e.Modal,l=Ue(),i=Object(r.useState)(!0),s=o()(i,2),c=s[0],u=s[1],d=Object(r.useState)(!1),j=o()(d,2),f=j[0],h=j[1],b=Object(r.useState)(!1),O=o()(b,2),g=O[0],v=O[1],w=Object(r.useState)(!1),S=o()(w,2),k=S[0],C=S[1],I=Object(r.useState)(!1),P=o()(I,2),B=(P[0],P[1],Object(r.useState)(!1)),T=o()(B,2),L=T[0],E=T[1],R=Object(r.useState)(null),N=o()(R,2),W=N[0],A=N[1];Object(r.useEffect)((function(){if(n&&c)try{t(!0),function(){var e,t;z.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,z.a.awrap(Ve.get(ne+"/getUserButtons",{params:{typeId:null==n?void 0:n.typeId},timeout:5e3}));case 2:return e=r.sent,r.next=5,z.a.awrap(e.data);case 5:t=r.sent,A(null==t?void 0:t.map((function(e){return e.ButtonID})));case 7:case"end":return r.stop()}}),null,null,null,Promise)}()}catch(e){console.log("Error: ",e)}finally{t(!1)}}),[n]);var q=null==W?void 0:W.map((function(e){switch(e){case 1:return Object(p.jsx)(y.default,{color:"primary",variant:"contained",style:{width:"50%",marginBottom:"25px"},onClick:function(){u(!1),h(!0)},children:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05ea\u05e2\u05d5\u05d3\u05ea \u05de\u05e9\u05dc\u05d5\u05d7"},e);case 2:return Object(p.jsx)(y.default,{color:"primary",variant:"contained",id:"newOrderBtn",style:{width:"50%",marginBottom:"25px"},onClick:function(){u(!1),v(!0)},children:"\u05d4\u05d6\u05de\u05e0\u05d4 \u05d7\u05d3\u05e9\u05d4"},e);case 3:return Object(p.jsx)(y.default,{color:"primary",variant:"contained",id:"pendingOrdersBtn",style:{width:"50%",marginBottom:"25px"},onClick:function(){u(!1),C(!0)},children:"\u05d4\u05d6\u05de\u05e0\u05d5\u05ea \u05de\u05de\u05ea\u05d9\u05e0\u05d5\u05ea"},e);case 4:return Object(p.jsxs)(y.default,{color:"primary",variant:"contained",style:{width:"50%",marginBottom:"25px"},onClick:function(){},children:["\u05e7\u05d1\u05dc\u05d5\u05ea ",100===n.typeId?"\u05e0\u05d4\u05d2\u05d9\u05dd":"\u05e1\u05d5\u05db\u05e0\u05d9\u05dd"]},e);case 5:return Object(p.jsx)(y.default,{color:"primary",variant:"contained",style:{width:"50%",marginBottom:"25px"},onClick:function(){},children:"\u05d4\u05d6\u05de\u05e0\u05d4 \u05de\u05d1\u05d9\u05ea \u05e7\u05d9\u05e8\u05d5\u05e8"},e);case 6:return Object(p.jsx)(y.default,{color:"primary",variant:"contained",style:{width:"50%",marginBottom:"25px"},onClick:function(){u(!1),E(!0)},children:"\u05e1\u05e8\u05d9\u05e7\u05d4 \u05de\u05d1\u05d9\u05ea \u05e7\u05d9\u05e8\u05d5\u05e8"},e);default:return Object(p.jsx)(K.default,{children:"\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05e4\u05e2\u05d5\u05dc\u05d5\u05ea \u05de\u05ea\u05d0\u05d9\u05de\u05d5\u05ea \u05dc\u05de\u05e9\u05ea\u05de\u05e9 \u05d6\u05d4..."})}}));return Object(p.jsx)(U.default,{vertical:!0,style:{backgroundColor:"#fff",minHeight:"100%"},children:Object(p.jsxs)(G.default,{component:"main",maxWidth:"xs",style:{overflowX:"hidden",height:"100%"},children:[Object(p.jsx)(Se.default,{}),Object(p.jsxs)("div",{className:l.paper,children:[Object(p.jsx)(Be.default,{sx:{marginBottom:"30px",marginTop:"30px",textAlign:"center"},children:Object(p.jsx)("div",{className:l.avatar,children:Object(p.jsx)(D,{})})}),c&&Object(p.jsx)(m.default,{style:{width:"95%",height:"100%",direction:"rtl",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:"25px"},children:q}),Object(p.jsx)(m.default,{style:{display:f?"block":"none",width:"95%",height:"100%",direction:"rtl"},children:Object(p.jsx)(We,{showOrderPage:f,setshowOrderPage:h,setShowButtons:u,Table:x,style:{overflowX:"hidden"},Modal:a,setShowOverlayLoader:t})}),Object(p.jsx)(m.default,{style:{display:g?"block":"none",width:"95%",height:"100%",direction:"rtl"},children:Object(p.jsx)(xe,{setShowButtons:u,setShowNewOrder:v,showNewOrder:g,user:n,Modal:a,setShowOverlayLoader:t})}),Object(p.jsx)(m.default,{style:{display:k?"block":"none",width:"95%",height:"100%",direction:"rtl"},children:Object(p.jsx)(ye,{setShowButtons:u,setShowPendingOrders:C,user:n,showPendingOrders:k,setShowOverlayLoader:t})}),Object(p.jsx)(m.default,{style:{display:L?"block":"none",width:"95%",height:"100%",direction:"rtl"},children:Object(p.jsx)(Je,{setShowButtons:u,setShowOutStorageScan:E,showOutStorageScan:L,setShowOverlayLoader:t,user:n},L)})]})]})})}n(94);var _e=n(146),Ke=n(69),Ge=n(884),Ye=n(94);function Je(e){var t=e.setShowOutStorageScan,n=e.setShowButtons,a=e.showOutStorageScan,l=e.setShowOverlayLoader,i=e.user,s=Object(r.useState)(!1),c=o()(s,2),u=c[0],d=c[1],j=Object(r.useState)(null),f=o()(j,2),h=f[0],b=f[1],x=Object(r.useState)(null),O=o()(x,2),g=O[0],v=O[1],w=Object(r.useState)(null),S=o()(w,2),k=S[0],D=S[1],C=Object(r.useState)(null),I=o()(C,2),P=I[0],B=I[1],L=Object(r.useState)(""),E=o()(L,2),R=E[0],V=E[1],H=Object(r.useState)(""),_=o()(H,2),G=_[0],J=_[1],Q=Object(r.useState)(!1),$=o()(Q,2),Z=$[0],ee=$[1],te=Object(r.useState)([]),re=o()(te,2),ae=(re[0],re[1],Object(r.useState)("")),le=o()(ae,2),ie=le[0],se=le[1],oe=Object(r.useState)(""),ce=o()(oe,2),ue=ce[0],de=ce[1],je=Object(r.useState)(null),fe=o()(je,2),he=fe[0],be=fe[1];Object(r.useEffect)((function(){if(a){console.log("fetching open orders...");try{l(!0),function(){var e,t,n;z.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,z.a.awrap(Ye.get(ne+"/getOpenOutStorageOrders"));case 2:return e=r.sent,r.next=5,z.a.awrap(e.data);case 5:t=r.sent,n=t.map((function(e){return{key:""+e.OutOrderID,value:"#"+e.OutOrderID+" "+e.OutStorgeName+", \u05de\u05ea\u05d0\u05e8\u05d9\u05da: "+e.Date.slice(0,10),outStorageId:e.OutStorgeID,date:e.Date,outStorageName:e.OutStorgeName}})),v(n);case 8:case"end":return r.stop()}}),null,null,null,Promise)}()}catch(e){console.log("Error fetching open orders:",e)}finally{l(!1)}}}),[a]),Object(r.useEffect)((function(){if(P){console.log("fetching open order parts...");try{l(!0),function(){var e,t;z.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,z.a.awrap(Ye.get(ne+"/getOpenOutStorageOrderLines",{params:{orderId:P.key},timeout:5e3}));case 2:return e=n.sent,n.next=5,z.a.awrap(e.data);case 5:t=n.sent,be(t.map((function(e){return[e.GenerlDes,e.Platforms,e.Comment]})));case 7:case"end":return n.stop()}}),null,null,null,Promise)}()}catch(e){console.log("Error fetching open orders:",e)}finally{l(!1)}}}),[P]);var me=function(e){try{l(!0),function(){var t,n;z.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,z.a.awrap(Ye.get(ne+"/getNumOfCartons",{params:{scanValue:e},timeout:5e3}));case 2:return t=r.sent,r.next=5,z.a.awrap(t.data);case 5:(n=r.sent)?se(n.Qunt):(b(null),de(""),V("\u05d1\u05e8\u05e7\u05d5\u05d3 \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0"),J("\u05d4\u05d1\u05e8\u05e7\u05d5\u05d3 \u05dc\u05d0 \u05e0\u05de\u05e6\u05d0 \u05d1\u05e0\u05ea\u05d5\u05e0\u05d9 \u05d4\u05de\u05e9\u05d8\u05d7\u05d9\u05dd, \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d5 \u05e9\u05e0\u05d9\u05ea."),ee(!0));case 7:case"end":return r.stop()}}),null,null,null,Promise)}()}catch(t){console.log("Error fetching number of cartons:",t)}finally{l(!1)}};Object(r.useEffect)((function(){h&&me(h)}),[h]);var pe=function(){return!!P||(V("\u05dc\u05d0 \u05e0\u05d1\u05d7\u05e8\u05d4 \u05d4\u05d6\u05de\u05e0\u05d4"),J("\u05d9\u05e9 \u05dc\u05d1\u05d7\u05d5\u05e8 \u05d4\u05d6\u05de\u05e0\u05d4 \u05e4\u05ea\u05d5\u05d7\u05d4 \u05dc\u05e4\u05e0\u05d9 \u05d1\u05d9\u05e6\u05d5\u05e2 \u05d4\u05e1\u05e8\u05d9\u05e7\u05d4 \u05d0\u05d5 \u05d4\u05d6\u05e0\u05ea \u05d1\u05e8\u05e7\u05d5\u05d3."),ee(!0),!1)};return a?Object(p.jsx)(U.default,{vertical:!0,style:{backgroundColor:"#fff",minHeight:"100%"},children:Object(p.jsxs)(m.default,{component:"main",maxWidth:"xs",style:{overflowX:"hidden",height:"100%"},children:[Object(p.jsx)(M.default,{component:"h1",variant:"h5",style:{marginBottom:16},children:"\u05e1\u05e8\u05d9\u05e7\u05ea \u05d4\u05d6\u05de\u05e0\u05d4 \u05de\u05d1\u05d9\u05ea \u05e7\u05d9\u05e8\u05d5\u05e8"}),Object(p.jsx)(m.default,{style:{marginBottom:16},children:Object(p.jsx)(X.SelectList,{setSelected:function(e){D(e)},onSelect:function(){k&&g&&B(g.filter((function(e){return e.key===k}))[0])},save:"key",data:g,placeholder:"\u05d1\u05d7\u05e8/\u05d9 \u05d4\u05d6\u05de\u05e0\u05d4 \u05e4\u05ea\u05d5\u05d7\u05d4",searchPlaceholder:"\u05d7\u05d9\u05e4\u05d5\u05e9"})}),he&&Object(p.jsx)(Qe,{show:P,headers:["\u05e9\u05dd \u05d4\u05de\u05d5\u05e6\u05e8","\u05db\u05de\u05d5\u05ea \u05de\u05e9\u05d8\u05d7\u05d9\u05dd","\u05d4\u05e2\u05e8\u05d4"],rows:he}),Object(p.jsx)(m.default,{style:{borderBottomColor:"black",borderBottomWidth:1,marginLeft:5,marginRight:5,marginTop:"20px",marginBottom:"20px"}}),Object(p.jsxs)(m.default,{children:[Object(p.jsx)(K.default,{children:"\u05e1\u05e8\u05d9\u05e7\u05ea \u05de\u05e9\u05d8\u05d7 \u05d0\u05d5 \u05d4\u05e7\u05dc\u05d3\u05d4 \u05d9\u05d3\u05e0\u05d9\u05ea:"}),Object(p.jsx)(y.default,{variant:"outlined",color:"primary",onClick:function(){pe()&&(d(!0),de(""),se(""))},children:Object(p.jsx)(Te.FontAwesomeIcon,{icon:Le.faBarcode})}),Object(p.jsxs)(m.default,{style:{flexDirection:"row"},children:[Object(p.jsx)(_e.default,{onChangeText:function(e){return de(e)},value:ue,keyboardType:"number-pad",style:{flex:1,borderWidth:1,padding:4,borderRadius:4,borderBottomLeftRadius:0,borderTopLeftRadius:0,marginTop:8,direction:"rtl"},placeholder:"\u05d4\u05e7\u05dc\u05d3/\u05d9 \u05d1\u05e8\u05e7\u05d5\u05d3..."}),Object(p.jsx)(m.default,{style:{justifyContent:"center",borderWidth:1,borderRadius:4,borderBottomRightRadius:0,borderTopRightRadius:0,marginTop:8},children:Object(p.jsx)(Ke.default,{onPress:function(){pe()&&(b(null),me(ue))},children:Object(p.jsx)(Ge.default,{name:"check",size:24,color:"black"})})})]})]}),u&&Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(Be.default,{sx:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"10px"},children:[Object(p.jsx)(T,{style:{marginTop:"5px"},onDetect:function(e){u&&(b(e.codeResult.code),d(!1))}}),Object(p.jsx)(y.default,{variant:"outlined",style:{right:"5px"},color:"primary",onClick:function(){d(!1)},children:"\u05e1\u05d2\u05d5\u05e8"})]})}),ie>0&&Object(p.jsxs)(m.default,{style:{marginTop:"20px",marginBottom:"20px",alignItems:"center"},children:[h&&Object(p.jsxs)(m.default,{children:[Object(p.jsx)(K.default,{children:"\u05d4\u05e2\u05e8\u05da \u05e9\u05e0\u05e1\u05e8\u05e7: "}),Object(p.jsx)(K.default,{style:{fontWeight:"bold",marginVertical:8},children:h})]}),Object(p.jsx)(K.default,{children:"\u05de\u05e1\u05e4\u05e8 \u05e7\u05e8\u05d8\u05d5\u05e0\u05d9\u05dd: "}),Object(p.jsx)(_e.default,{onChangeText:function(e){return se(e)},value:ie,keyboardType:"number-pad",style:{borderWidth:1,padding:10,borderRadius:8,width:50,hight:50,marginTop:8}})]}),Object(p.jsx)(y.default,{variant:"contained",color:"primary",onClick:function(){var e,t,n;return z.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e=h||ue)){r.next=36;break}return r.prev=2,l(!0),t={orderId:P.key,outStorageId:P.outStorageId,outStorageName:P.outStorageName,scanValue:e,userId:i.userId,username:i.username,numOfCartons:ie},r.next=7,z.a.awrap(Ye.post(ne+"/platformScan",t));case 7:return n=r.sent,r.next=10,z.a.awrap(n.data);case 10:if(!r.sent){r.next=18;break}V("\u05e1\u05e8\u05d9\u05e7\u05d4 \u05e0\u05e9\u05dc\u05d7\u05d4 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),J("\u05d4\u05e1\u05e8\u05d9\u05e7\u05d4 \u05e0\u05e7\u05dc\u05d8\u05d4 \u05d1\u05e9\u05e8\u05ea."),ee(!0),de(""),se(""),r.next=21;break;case 18:V("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05dc\u05d9\u05d7\u05ea \u05e1\u05e8\u05d9\u05e7\u05d4"),J("\u05d1\u05e2\u05d9\u05d4 \u05d1\u05e9\u05dc\u05d9\u05d7\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05dc\u05e9\u05e8\u05ea \u05d0\u05e0\u05d0 \u05d4\u05e2\u05d1\u05e8/\u05d9 \u05dc\u05de\u05e0\u05d4\u05dc \u05d0\u05ea \u05e4\u05e8\u05d8\u05d9 \u05d4\u05e1\u05e8\u05d9\u05e7\u05d4."),ee(!0);case 21:b(null),r.next=31;break;case 24:return r.prev=24,r.t0=r.catch(2),console.log("Error sending scan to DataBase: ",r.t0),V("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05dc\u05d9\u05d7\u05ea \u05d1\u05e8\u05e7\u05d5\u05d3"),J("\u05d1\u05e2\u05d9\u05d4 \u05d1\u05e9\u05dc\u05d9\u05d7\u05ea \u05e0\u05ea\u05d5\u05e0\u05d9\u05dd \u05dc\u05e9\u05e8\u05ea \u05d0\u05e0\u05d0 \u05d5\u05d5\u05d3\u05d0\u05d5 \u05db\u05d9 \u05de\u05e9\u05d8\u05d7 \u05d6\u05d4 \u05dc\u05d0 \u05e0\u05e7\u05dc\u05d8 \u05d1\u05e2\u05d1\u05e8."),ee(!0),r.abrupt("return",!1);case 31:return r.prev=31,l(!1),r.finish(31);case 34:r.next=39;break;case 36:V("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05e9\u05dc\u05d9\u05d7\u05ea \u05e1\u05e8\u05d9\u05e7\u05d4"),J("\u05d5\u05d5\u05d3\u05d0\u05d5 \u05db\u05d9 \u05e0\u05e1\u05e8\u05e7 \u05d1\u05e8\u05e7\u05d5\u05d3 \u05d9\u05d7\u05d3 \u05e2\u05dd \u05de\u05e1\u05e4\u05e8 \u05e7\u05e8\u05d8\u05d5\u05e0\u05d9\u05dd \u05ea\u05e7\u05d9\u05df"),ee(!0);case 39:case"end":return r.stop()}}),null,null,[[2,24,31,34]],Promise)},style:{marginTop:"25px",marginBottom:"25px"},children:"\u05d0\u05d9\u05e9\u05d5\u05e8 \u05e1\u05e8\u05d9\u05e7\u05d4"}),Object(p.jsx)(m.default,{style:{alignItems:"center"},children:Object(p.jsx)(F,{setShowCurr:t,setShowButtons:n})}),Object(p.jsxs)(Y.default,{open:Z,onClose:function(){return ee(!1)},children:[Object(p.jsx)(N.default,{children:R}),Object(p.jsx)(W.default,{children:Object(p.jsx)(A.default,{children:G})}),Object(p.jsx)(q.default,{children:Object(p.jsx)(y.default,{variant:"contained",color:"primary",onClick:function(){ee(!1)},children:"\u05e1\u05d2\u05d5\u05e8"})})]})]})}):null}function Qe(e){var t=e.show,n=e.headers,r=e.rows;return t?Object(p.jsx)(m.default,{style:{writingDirection:"rtl",maxHeight:"33vh"},children:Object(p.jsx)(j.default,{component:b.default,children:Object(p.jsxs)(c.default,{stickyHeader:!0,size:"small","aria-label":"a dense table",style:{width:"100%",overflowX:"scroll",marginLeft:"auto",marginRight:"auto"},children:[Object(p.jsx)(f.default,{children:Object(p.jsx)(h.default,{children:n.map((function(e){return Object(p.jsx)(d.default,{align:"right",children:e},e)}))})}),Object(p.jsx)(u.default,{children:r.map((function(e,t){return Object(p.jsx)(h.default,{align:"right",sx:{"&:last-child td, &:last-child th":{border:0}},children:e.map((function(e){return Object(p.jsx)(d.default,{align:"right",children:e},e)}))},t)}))})]})})}):null}var $e=n(593),Ze=n(885),et=n(588),tt=n(55),nt=n(143),rt=n(6),at=Object(nt.default)({key:"muirtl",stylisPlugins:[rt.prefixer,et.default]}),lt=Object($e.default)({writingDirection:"rtl"});console.log("Loaded"),i.a.render(Object(p.jsx)(tt.C,{value:at,children:Object(p.jsx)(Ze.default,{theme:lt,children:Object(p.jsx)((function(){var e=Object(r.useState)(!0),t=o()(e,2),n=t[0],a=t[1],l=Object(r.useState)(!1),i=o()(l,2),s=i[0],c=i[1],u=(O.default.get("window").height,Object(r.useState)(!1)),d=o()(u,2),j=d[0],f=d[1],h=Object(r.useState)(null),b=o()(h,2),x=b[0],g=b[1],v=fe.default.create({container:{writingDirection:"rtl",flex:1,backgroundColor:"lightblue",alignItems:"center",justifyContent:"center",height:"100%",writingDirection:"rtl"}});return Object(p.jsxs)(m.default,{style:v.container,children:[Object(p.jsx)(I,{showLoader:j}),Object(p.jsx)(Pe,{style:{writingDirection:"rtl"},setView:a,view:n,setShowNavFun:c,Modal:w,setShowOverlayLoader:f,setUser:g}),Object(p.jsx)(m.default,{style:{display:s?"block":"none",width:"95%",height:"100%",direction:"rtl"},children:Object(p.jsx)(He,{style:{overflowX:"hidden"},setShowOverlayLoader:f,user:x,Modal:w})})]})}),{})})}),document.querySelector("#root"))}},[[642,1,2]]]);
//# sourceMappingURL=app.bd3f8504.chunk.js.map